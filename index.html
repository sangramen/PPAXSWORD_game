<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>ì†Œë“œ ê°•í™” ê²Œì„ - ì‹¤ì‹œê°„ ë­í‚¹</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin-top: 30px;
        }

        #gameArea,
        #rankingBox {
            display: none;
        }

        #intro {
            margin-top: 100px;
        }

        #intro button {
            font-size: 32px;
            padding: 24px 60px;
            margin-top: 30px;
            cursor: pointer;
        }

        #shopButton {
            position: fixed;
            top: 48px;
            left: 10px;
            background-color: #28a745;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 52px;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            display: none;
            z-index: 999;
        }

        #shopArea {
            display: none;
            margin-top: 50px;
        }

        button {
            cursor: pointer;
        }

        img {
            margin: 20px;
        }

        #buyProtectBtn {
            font-size: 20px;
            padding: 12px 30px;
            margin-top: 20px;
            cursor: pointer;
        }

        .gameControl {
            display: none;
        }

        #infoBox {
            display: none;
            position: absolute;
            top: 60px;
            right: 50px;
            width: 320px;
            height: 450px;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 15px;
            font-size: 20px;
            text-align: left;
            background: #f7f7f7;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
        }

        #gameOverScreen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 9999;
        }

        #gameOverVideo {
            max-width: 80%;
            max-height: 80%;
        }
    </style>
</head>

<body>

    <!-- ì¸íŠ¸ë¡œ í™”ë©´ -->
    <div id="intro">
        <h1>ì†Œë“œ ê°•í™” ì‹œë®¬ë ˆì´í„°</h1>
        <button onclick="startGame()">ê²Œì„ ì‹œì‘</button>
    </div>

    <!-- ìƒì  ë²„íŠ¼ -->
    <button id="shopButton" onclick="openShop()">ìƒì </button>

    <!-- ê²Œì„ ì˜ì—­ -->
    <div id="gameArea">
        <h2>í™˜ì˜í•©ë‹ˆë‹¤, <span id="nicknameDisplay"></span> ë‹˜!</h2>
        <img id="swordImg" src="images/sword_lv0.png" width="200" onerror="this.style.display='none'"><br>
        <p id="swordName">ê²€ ì´ë¦„: ê·¸ëƒ¥ ì†Œë“œ.</p>
        <p>í˜„ì¬ ë ˆë²¨: <span id="currentLevel">0</span></p>
        <p>í……ì¥(ì†Œì§€ê¸ˆ): <span id="money">0</span> ì›</p>
        <p>ê°•í™”ë¹„ìš©: <span id="enhanceCost">100</span> ì›</p>
        <button class="gameControl" onclick="enhanceSword()">ê°•í™”!!!</button>
        <button class="gameControl" onclick="sellSword()">ì†Œë“œ íŒë§¤í•˜ê¸°</button>
        <h3>ğŸ†ë­í‚¹ğŸ†</h3>
        <pre id="rankingBox"></pre>
    </div>

    <!-- ì •ë³´ ë°•ìŠ¤ -->
    <div id="infoBox">
        <p style="font-weight:bold; font-size:22px; margin-bottom:8px;">ê°•í™” ì„±ê³µ í™•ë¥ </p>
        <p id="successRateDisplay" style="font-size:28px;">100%</p>
        <hr style="margin:8px 0;">
        <p>í˜„ì¬ ì†Œë“œ íŒë§¤ ê°€ê²©: <span id="currentPriceDisplay">0 ì›</span></p>
        <p>ë‹¤ìŒ ë ˆë²¨ íŒë§¤ ê°€ê²©: <span id="nextPriceDisplay">0 ì›</span></p>
        <hr style="margin:12px 0;">
        <p>í˜„ì¬ ë ˆë²¨: <span id="currentLevelInfo">0</span></p>
        <p>í……ì¥(ì†Œì§€ê¸ˆ): <span id="moneyInfo">0</span> ì›</p>
        <p id="protectStatus">ê°•í™” ë³´í˜¸ ì•„ì´í…œ: ì—†ìŒ</p>
    </div>

    <!-- ìƒì  -->
    <div id="shopArea">
        <h2>ìƒì </h2>
        <p style="margin-bottom:10px; font-weight:bold;">
            ğŸ›¡ï¸ '87ì„¸ ê¹€ë¯¸ì‹œ í• ë¨¸ë‹ˆì˜ ìµœí›„ì˜ ê°‘ì˜·'<br>
            íš¨ê³¼: ê°•í™” ì‹¤íŒ¨ ì‹œ ì†Œë“œ íŒŒê´´ 1íšŒ ë°©ì–´
        </p>
        <button id="buyProtectBtn" onclick="buyProtectItem()">êµ¬ë§¤ (3000ì›)</button><br>
        <button onclick="closeShop()" style="margin-top:20px;">ìƒì  ë‚˜ê°€ê¸°</button>
    </div>

    <!-- ê²Œì„ ì˜¤ë²„ í™”ë©´ -->
    <div id="gameOverScreen">
        <video id="gameOverVideo" src="video/over.mp4" onerror="this.style.display='none'"></video>
    </div>

    <!-- íš¨ê³¼ìŒ -->
    <audio id="successSound" src="sounds/success.mp3" onerror="this.style.display='none'"></audio>
    <audio id="failSound" src="sounds/fail.mp3" onerror="this.style.display='none'"></audio>
    <audio id="enhanceTrySound" src="sounds/enhanceTry.mp3" onerror="this.style.display='none'"></audio>
    <audio id="buyProtectSound" src="sounds/buyProtect.mp3" onerror="this.style.display='none'"></audio>
    <audio id="sellSound" src="sounds/sell.mp3" onerror="this.style.display='none'"></audio>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

    <!-- JS ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="workspace.js"></script>
    <script src="data_UI.js"></script>
    <script src="effect_work.js"></script>

</body>

</html>